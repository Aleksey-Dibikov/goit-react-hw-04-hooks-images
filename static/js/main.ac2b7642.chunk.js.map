{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Spinner.module.css","components/Searchbar/Searchbar.js","services/apiServices.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","handleInputChange","event","setState","currentTarget","toLowerCase","handleSubmit","e","preventDefault","trim","props","onSubmit","alert","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","axios","defaults","baseURL","fetchImages","query","page","a","get","data","ImageGalleryItem","webformatURL","tags","toggleModal","bigImg","src","alt","ImageGalleryItemImage","onClick","ImageGallery","map","el","id","largeImageURL","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","closeModal","backDropClick","target","window","addEventListener","removeEventListener","modalImg","createPortal","Overlay","img","Spinner","spinnerWrapper","color","height","width","App","status","valueApi","showModal","handleFormSubmit","btnLoadMore","FindModalImg","prevProps","prevState","apiServices","then","hits","scrollTo","top","documentElement","scrollHeight","behavior","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ac2b7642.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__scYTR\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3w8Dh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2azcL\",\"Modal\":\"Modal_Modal__4bjYk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__WUGAT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1I2BC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"spinnerWrapper\":\"Spinner_spinnerWrapper__1SSEI\"};","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n// import { toast } from 'react-toastify';\n\nclass Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  handleInputChange = event => {\n    this.setState({ value: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.value.trim() === '') {\n      // toast('введите запрос!!!');\n      alert('Bведите запрос!!!');\n      return;\n    }\n    this.props.onSubmit(this.state.value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    const { handleSubmit, handleInputChange } = this;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={handleInputChange}\n            value={value}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n  onChange: PropTypes.string,\n};\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23161944-2a0cfa2ec118e633f18262ab9';\n\naxios.defaults.baseURL = BASE_URL;\n\nconst fetchImages = async (query, page) => {\n  const { data } = await axios.get(\n    `?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  //   console.log(data);\n  return data;\n};\n\nexport default fetchImages;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  render() {\n    const { webformatURL, tags, toggleModal, bigImg } = this.props;\n    return (\n      <li className={s.ImageGalleryItem}>\n        <img\n          src={webformatURL}\n          alt={tags}\n          className={s.ImageGalleryItemImage}\n          onClick={() => {\n            toggleModal();\n            bigImg();\n          }}\n        />\n      </li>\n    );\n  }\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string,\n  tags: PropTypes.string,\n  toggleModal: PropTypes.func,\n  bigImg: PropTypes.func,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  render() {\n    const { query, toggleModal, bigImg } = this.props;\n    return (\n      <ul className={s.ImageGallery}>\n        {query.map(el => (\n          <ImageGalleryItem\n            key={el.id}\n            id={el.id}\n            webformatURL={el.webformatURL}\n            largeImageURL={el.largeImageURL}\n            tags={el.tags}\n            toggleModal={() => toggleModal()}\n            bigImg={() => bigImg(el.id, el.largeImageURL, el.tags)}\n          />\n        ))}\n      </ul>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  query: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      tags: PropTypes.string,\n      webformatURL: PropTypes.string,\n      largeImageURL: PropTypes.string,\n    }),\n  ),\n  bigImg: PropTypes.func,\n  toggleModal: PropTypes.func,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport s from './Button.module.css';\n\nclass Button extends Component {\n  render() {\n    const { onClick } = this.props;\n    return (\n      <button className={s.Button} type=\"button\" onClick={onClick}>\n        Load more\n      </button>\n    );\n  }\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.closeModal();\n    }\n  };\n\n  backDropClick = event => {\n    // console.log('click');\n    if (event.target === event.currentTarget) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    const { modalImg } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.backDropClick}>\n        <div className={s.Modal}>\n          <img key={modalImg.id} src={modalImg.img} alt={modalImg.tags} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func,\n  modalImg: PropTypes.object,\n};\n\nexport default Modal;\n","import Loader from 'react-loader-spinner';\nimport React, { Component } from 'react';\nimport s from './Spinner.module.css';\nclass Spinner extends Component {\n  render() {\n    return (\n      // <div className={s.ldsEllipsis}>\n      //   <div></div>\n      //   <div></div>\n      //   <div></div>\n      //   <div></div>\n      // </div>\n      <div className={s.spinnerWrapper}>\n        <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\n      </div>\n    );\n  }\n}\nexport default Spinner;\n","import { Component } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport apiServices from './services/apiServices';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\nimport Spinner from './components/Loader/Loader';\n\n//  import { ToastContainer } from 'react-toastify';\n\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    status: 'init',\n    valueApi: '',\n    page: 1,\n    query: [],\n    showModal: false,\n    modalImg: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { valueApi, page, query } = this.state;\n\n    if (prevState.valueApi !== valueApi) {\n      this.setState({ status: 'pending' });\n\n      apiServices(valueApi, page)\n        .then(query => query.hits)\n        .then(query => this.setState({ query: query, status: 'resolved' }));\n    }\n\n    if (prevState.page !== page && page !== 1) {\n      this.setState({ status: 'pending' });\n\n      apiServices(valueApi, page)\n        .then(query => query.hits)\n        .then(query =>\n          this.setState(prevState => ({\n            query: [...prevState.query, ...query],\n            status: 'resolved',\n          })),\n        );\n    }\n\n    if (prevState.query !== query) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  handleFormSubmit = value => {\n    this.setState({\n      valueApi: value,\n      page: 1,\n    });\n  };\n\n  btnLoadMore = () => {\n    const { page } = this.state;\n    this.setState({\n      page: page + 1,\n      status: 'pending',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  FindModalImg = (id, img, tags) => {\n    this.setState({ modalImg: { id: id, img: img, tags: tags } });\n  };\n\n  render() {\n    const { handleFormSubmit, toggleModal, FindModalImg, btnLoadMore } = this;\n    const { query, status, showModal, modalImg } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={handleFormSubmit} />\n        <ImageGallery\n          query={query}\n          toggleModal={toggleModal}\n          bigImg={FindModalImg}\n        />\n        {status === 'pending' && <Spinner />}\n        {query.length > 0 && <Button onClick={btnLoadMore} />}\n        {showModal && <Modal closeModal={toggleModal} modalImg={modalImg} />}\n        {/* <ToastContainer/> */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Ip-V\",\"SearchForm\":\"Searchbar_SearchForm__2NkiW\",\"SearchFormButton\":\"Searchbar_SearchFormButton__11rfa\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__q__hk\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1a2Gi\"};"],"sourceRoot":""}