(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__scYTR",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3w8Dh"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2azcL",Modal:"Modal_Modal__4bjYk"}},26:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__WUGAT"}},27:function(e,t,a){e.exports={Button:"Button_Button__1I2BC"}},29:function(e,t,a){e.exports={spinnerWrapper:"Spinner_spinnerWrapper__1SSEI"}},34:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1Ip-V",SearchForm:"Searchbar_SearchForm__2NkiW",SearchFormButton:"Searchbar_SearchFormButton__11rfa",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__q__hk",SearchFormInput:"Searchbar_SearchFormInput__1a2Gi"}},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),i=(a(34),a(16)),s=a(4),u=a(5),l=a.n(u),m=a(1);var b=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1];return Object(m.jsx)("header",{className:l.a.Searchbar,children:Object(m.jsxs)("form",{className:l.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):alert("B\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441!!!")},children:[Object(m.jsx)("button",{type:"submit",className:l.a.SearchFormButton,children:Object(m.jsx)("span",{className:l.a.SearchFormButtonLabel,children:"Search"})}),Object(m.jsx)("input",{className:l.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){o(e.currentTarget.value.toLowerCase())},value:c})]})})},g=a(12),j=a.n(g),h=a(25),d=a(13),p=a.n(d);p.a.defaults.baseURL="https://pixabay.com/api/";var f=function(){var e=Object(h.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("?q=".concat(t,"&page=").concat(a,"&key=").concat("23161944-2a0cfa2ec118e633f18262ab9","&image_type=photo&orientation=horizontal&per_page=12"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),O=f,_=a(14),I=a.n(_),S=function(e){var t=e.webformatURL,a=e.tags,n=e.toggleModal,r=e.bigImg;return Object(m.jsx)("li",{className:I.a.ImageGalleryItem,children:Object(m.jsx)("img",{src:t,alt:a,className:I.a.ImageGalleryItemImage,onClick:function(){n(),r()}})})},x=a(26),v=a.n(x),y=function(e){var t=e.query,a=e.toggleModal,n=e.bigImg;return Object(m.jsx)("ul",{className:v.a.ImageGallery,children:t.map((function(e){return Object(m.jsx)(S,{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL,tags:e.tags,toggleModal:function(){return a()},bigImg:function(){return n(e.id,e.largeImageURL,e.tags)}},e.id)}))})},w=a(27),k=a.n(w),F=function(e){var t=e.onClick;return Object(m.jsx)("button",{className:k.a.Button,type:"button",onClick:t,children:"Load more"})},L=a(15),B=a.n(L),G=document.querySelector("#modal-root");var N=function(e){var t=e.modalImg,a=e.closeModal;Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){return window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"===e.code&&a()};return Object(c.createPortal)(Object(m.jsx)("div",{className:B.a.Overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(m.jsx)("div",{className:B.a.Modal,children:Object(m.jsx)("img",{src:t.img,alt:t.tags},t.id)})}),G)},M=a(28),C=a.n(M),E=a(29),R=a.n(E),U=function(){return Object(m.jsx)("div",{className:R.a.spinnerWrapper,children:Object(m.jsx)(C.a,{type:"ThreeDots",color:"#00BFFF",height:100,width:100})})};a(75);var T=function(){var e=Object(n.useState)("init"),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),u=o[0],l=o[1],g=Object(n.useState)(1),j=Object(s.a)(g,2),h=j[0],d=j[1],p=Object(n.useState)([]),f=Object(s.a)(p,2),_=f[0],I=f[1],S=Object(n.useState)(!1),x=Object(s.a)(S,2),v=x[0],w=x[1],k=Object(n.useState)(""),L=Object(s.a)(k,2),B=L[0],G=L[1];Object(n.useEffect)((function(){u&&(1===h&&(r("pending"),O(u,h).then((function(e){return e.hits})).then((function(e){return I(e)}),r("resolved"))),h>1&&(r("pending"),O(u,h).then((function(e){return e.hits})).then((function(e){return I([].concat(Object(i.a)(e),Object(i.a)(e))),r("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))))}),[u,h]);var M=function(){w(!v)};return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(b,{onSubmit:function(e){l(e),d(1)}}),Object(m.jsx)(y,{query:_,toggleModal:M,bigImg:function(e,t,a){G({id:e,img:t,tags:a})}}),"pending"===a&&Object(m.jsx)(U,{}),_.length>0&&Object(m.jsx)(F,{onClick:function(){d(h+1),r("pending")}}),v&&Object(m.jsx)(N,{closeModal:M,modalImg:B})]})};o.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.7d3a9a04.chunk.js.map